---
title: vim
date: 2021-10-31 07:28:26
permalink: /pages/cb9d99/
categories:
  - Linux
tags:
  - 
---
## 快捷键
#### 普通模式
光标移动或跳转
```
1. 普通移动
hjkl    左下上右的移动光标
H M L   光标跳到屏幕的顶、中、下方

2. Vim光标以单词为单位移动
某些情形下，可能需要光标迅速移动至一行中的某个位置，将光标以单词为单位进行移动就会很方便。

w 或 W	    光标移动至下一个单词的单词首
b 或 B	    光标移动至上一个单词的单词首
e 或 E	    光标移动至下一个单词的单词尾
nw 或 nW	n 为数字，表示光标向右移动 n 个单词
nb 或 nB	n 为数字，表示光标向左移动 n 个单词

3. Vim光标移动至行首或行尾
0 或 ^	光标移动至当前行的行首
$	    光标移动至当前行的行尾
n$	    光标移动至当前行只有 n 行的行尾，n为数字

4. Vim光标移动至指定字符
一行中，如果需要将光标移动到当前行的某个特点字符，则可以使用表 4 中的快捷键。

fx	光标移动至当前行中下一个 x 字符处
Fx 	光标移动至当前行中下一个 x 字符处

5. Vim光标移动到指定行
gg	光标移动到文件开头
G	光标移动至文件末尾
nG	光标移动到第 n 行，n 为数字
:n	命令模式下使用的快捷键，可以将光标快速定义到指定行的行首
```

插入
```
i	在当前光标所在位置插入随后输入的文本，光标后的文本相应向右移动
I	在光标所在行的行首插入随后输入的文本，行首是该行的第一个非空白字符，相当于光标移动到行首执行 i 命令
o	在光标所在行的下面插入新的一行。光标停在空行首，等待输入文本
O	在光标所在行的上面插入新的一行。光标停在空行的行首，等待输入文本
a	在当前光标所在位置之后插入随后输入的文本
A	在光标所在行的行尾插入随后输入的文本，相当于光标移动到行尾再执行a命令
```

其他
```
J   将当前行末尾和下一行行首连接起来（实际上是去掉当前行的换行符）
%   快速移动到括号处，比如："(", ")", "{", "}"
```

#### 编辑模式  
```
```

#### 命令模式
保存和退出
```
:wq	保存并退出 Vim 编辑器
:wq!	保存并强制退出 Vim 编辑器
:q	不保存就退出 Vim 编辑器
:q!	不保存，且强制退出 Vim 编辑器
:w	保存但是不退出 Vim 编辑器
:w!	强制保存文本
:w filename	另存到 filename 文件
x！	保存文本，并退出 Vim 编辑器，更通用的一个 vim 命令
ZZ	直接退出 Vim 编辑器
```

## 撤销操作
```
u（小写）       undo 的第 1 个字母，功能是撤销最近一次对文本做的修改操作。
Ctrl+R	       Redo 的第 1 个字母，功能是恢复最近一次所做的撤销操作。
U（大写）	    第一次会撤销对一行文本（光标所在行）做过的全部操作，第二次使用该命令会恢复对该行文本做过的所有操作。
```

## 显示行号
```
:set nu

取消：
:set nonu
```
## 复制粘贴文本
```
1. 选定文本块。使用v进入可视模式，移动光标键选定内容。 

2.复制的命令是y，即yank（提起） ，常用的命令如下： 
    y      在使用v模式选定了某一块的时候，复制选定块到缓冲区用； 
    yy    复制整行（nyy或者yny ，复制n行，n为数字）； 
    y^   复制当前到行头的内容； 
    y$    复制当前到行尾的内容； 
    yw   复制一个word （nyw或者ynw，复制n个word，n为数字）； 
    yG    复制至档尾（nyG或者ynG，复制到第n行，例如1yG或者y1G，复制到档尾）  
    
3. 剪切的命令是d，即delete，d与y命令基本类似，所以两个命令用法一样，包括含有数字的用法.  
    d      剪切选定块到缓冲区； 
    dd    剪切整行 
    d^    剪切至行首 
    d$     剪切至行尾 
    dw    剪切一个word 
    dG     剪切至档尾  
    
4. 粘贴的命令式p，即put（放下） 
    p      小写p代表贴至游标后（下），因为游标是在具体字符的位置上，所以实际是在该字符的后面 
    P      大写P代表贴至游标前（上） 
    整行的复制粘贴在游标的上（下）一行，非整行的复制则是粘贴在游标的前（后）
```

## 设置tab缩进
```
可以将下述设置加入到~/.vimrc中：

set sw=4
set ts=4
 
filetype indent on
autocmd FileType python setlocal et sta sw=4 sts=4
前面两行将shiftwidth和tabstop都设为4。第三行开启自动的缩进检测。最后一行则根据Python语言的建议（将tab展成四个空格）进行了专门设置。
```

## 文件之间跳转
1. 打开另外一个文件  
    ```
    :open [file path]
    或者
    :e [file path]
    ```
2. 分割屏幕，同时显示多个文件  
    ```
    :split  :sp
    :vsplit :vsp

    切换
    ctl+w+方向键     
    ctl+w+h/j/k/l   
    ctl+ww          //切换到下一个
    ```
3. 多文件切换  
    ```
    :bn     //切换到下一个文件
    :bp     //切换到前一个文件
    :ls     //查看当前打开的所有文件buffer
    :b num  //切换到指定的文件
    :bd     // buffers delete
    ```

## 选择代码整体缩进
1. 按v进入visual状态，选择多行
2. 用ctl+<或者ctl+>缩进或者缩出